**Masalah yang Ditemukan:**
Logika diskon belum terhubung karena fungsi `addItem` di keranjang belanja (`useCart.ts`) saat ini **selalu mereset diskon menjadi 0** untuk item baru, meskipun kita sudah menghitung nilai diskon di halaman POS.

```typescript
// Kode saat ini (Bermasalah)
set({ items: [...items, { ...product, quantity: 1, discount: 0 }] });
```

**Rencana Perbaikan:**

1.  **Modifikasi `client/src/hooks/use-cart.ts`**:
    *   Update interface `addItem` agar menerima parameter `product` yang mungkin sudah memiliki properti `discount`.
    *   Ubah logika penambahan item baru agar menggunakan nilai `discount` dari parameter jika ada, alih-alih di-hardcode `0`.
    *   Untuk item yang sudah ada di keranjang, pastikan logika penambahan quantity tetap mempertahankan (atau memperbarui) nilai diskon yang valid.

2.  **Verifikasi `client/src/pages/POS.tsx`**:
    *   Pastikan perhitungan `getProductDiscount` (yang sudah saya buat sebelumnya) benar-benar dijalankan dan hasilnya diteruskan ke `addItem`.
    *   (Sudah dicek: Logika di `POS.tsx` sudah benar memanggil `addItem({ ...product, discount: discountAmount })`, hanya saja diabaikan oleh `useCart`).

3.  **Hasil yang Diharapkan**:
    *   Saat kasir mengklik produk yang memiliki diskon aktif (Global/Product/Brand), produk tersebut akan masuk ke keranjang dengan harga yang sudah terpotong otomatis.
    *   Total belanja akan langsung mencerminkan potongan harga tersebut.

Apakah Anda setuju dengan rencana perbaikan pada `use-cart.ts` ini?