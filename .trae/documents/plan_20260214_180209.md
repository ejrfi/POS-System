Untuk membuat sistem diskon yang **profesional dan otomatis**, logika bisnisnya harus bisa membedakan antara **Diskon Transaksi** (Global) dan **Diskon Produk Spesifik**.

Berikut adalah gambaran logika bisnis POS Profesional yang saya usulkan:

### 1. Logika Bisnis & Struktur Data
Kita perlu mengembangkan tabel `discounts` agar lebih fleksibel dengan menambahkan "Scope" (Cakupan):
*   **Global (Transaction Level)**: Diskon otomatis diterapkan ke total belanja (contoh: "Happy Hour 10% All Items").
*   **Specific Product (Item Level)**: Diskon otomatis diterapkan saat barang tertentu di-scan (contoh: "Diskon 20% untuk Kopi Arabika").
*   **Specific Brand (Category Level)**: Diskon otomatis untuk semua barang dari brand tertentu (contoh: "Diskon 5% semua produk Indofood").

**Perubahan Schema Database:**
Saya akan menambahkan kolom baru pada tabel `discounts`:
*   `product_id` (Opsional): Jika diisi, diskon hanya berlaku untuk produk ini.
*   `brand_id` (Opsional): Jika diisi, diskon berlaku untuk semua produk brand ini.
*   *Jika keduanya kosong, dianggap sebagai Diskon Global.*

### 2. Implementasi Otomatis di POS (Kasir)
Sistem akan bekerja secara otomatis tanpa kasir perlu menghitung manual:
1.  **Saat Barang Masuk Cart**:
    *   Sistem mengecek apakah ada diskon aktif untuk `product_id` atau `brand_id` tersebut.
    *   Jika ada, harga langsung dipotong (misal: Rp 50.000 dicoret jadi Rp 40.000).
    *   Info diskon disimpan di level item (`sale_items`).
2.  **Saat Checkout (Total)**:
    *   Sistem mengecek apakah ada diskon Global yang aktif.
    *   Jika ada, diskon diterapkan ke Subtotal akhir.

### 3. Update Halaman Manajemen Diskon
Saya akan mengupdate UI halaman `Discounts` agar Anda bisa memilih target diskon:
*   Pilihan: **"Seluruh Transaksi"**, **"Per Produk"**, atau **"Per Brand"**.
*   Input pencarian produk/brand saat membuat diskon.

Apakah Anda setuju dengan penerapan logika otomatis ini?