**Analisis Masalah:**
Pesan error "could not upload image" (atau variasi typo "cloud not upload image") muncul karena kegagalan autentikasi saat frontend mencoba mengirim file ke server.

**Penyebab Utama:**
1.  **Header Auth Hilang**: Di file `client/src/pages/Inventory.tsx`, fungsi `handleImageUpload` menggunakan `fetch` manual tetapi lupa menyertakan header `Authorization: Bearer <token>`.
2.  **Proteksi Server**: Endpoint `/api/upload` di server dilindungi middleware `requireAuth`. Karena tidak ada token yang dikirim, server menolak request dengan status `401 Unauthorized`.

**Rencana Perbaikan:**

1.  **Perbaiki Frontend (`Inventory.tsx`)**:
    *   Ambil token autentikasi yang benar. (Catatan: Kode saat ini mengambil `auth_token` dari localStorage, tapi kita perlu pastikan nama key-nya sesuai dengan sistem auth yang dipakai, biasanya `token` atau `auth-token`. Saya akan cek `lib/queryClient.ts` atau login flow untuk memastikan nama key yang benar).
    *   Tambahkan header `Authorization` pada request `fetch`.

2.  **Verifikasi Nama Token**:
    *   Saya akan memeriksa file `client/src/lib/queryClient.ts` atau komponen Login untuk mengetahui nama key penyimpanan token yang sebenarnya (apakah `auth_token`, `token`, atau lainnya).

3.  **Verifikasi Direktori Upload**:
    *   Meskipun kode server sudah punya logika `fs.mkdirSync`, saya akan memastikannya lagi agar tidak ada masalah permission di Windows.

Apakah Anda setuju dengan rencana perbaikan autentikasi ini?